(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1345:function(e,t,n){e.exports={promoMessage:"PromoMessage__promoMessage--1SsLY",wrapper:"PromoMessage__wrapper--39lXb",message:"PromoMessage__message--38UU6",timeRemaining:"PromoMessage__timeRemaining--2-tFP",ends:"PromoMessage__ends--1XP5t",desktop:"PromoMessage__desktop--Dckmm",messageOnly:"PromoMessage__messageOnly--XzqIX"}},632:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(9),u=n.n(s),l=n(5),c=n(1345),f=n.n(c),p=n(10),d=n(3),m=n(731),y=n.n(m);function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D,_,x,T=function(e){var t=Math.abs(e);return t<10?"0".concat(t):"".concat(t)},I=function(e){var t=new Date,n=(y()(e)-t)/1e3;return n<=0?"00:00:00":[T(Math.floor(n/3600)),T(Math.floor(n/60%60)),T(Math.floor(n%60))].join(":")},M=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(a=b(t).call(this,e))||"object"!==v(a)&&"function"!==typeof a?h(r):a;var o=e.until?I(e.until):null;return n.state={timeRemaining:o},n.countdown=n.countdown.bind(h(n)),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a.a.Component),n=t,(r=[{key:"countdown",value:function(){var e=this.props.until;this.setState({timeRemaining:I(e)})}},{key:"componentDidMount",value:function(){this.props.until&&(this.interval=setInterval(this.countdown,1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.until,n=e.children,r=this.state.timeRemaining;return"function"!==typeof n?null:n(t?r:null)}}])&&g(n.prototype,r),o&&g(n,o),t}();x=!0,(_="isDesignSystem")in(D=M)?Object.defineProperty(D,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):D[_]=x,M.propTypes={children:i.a.func.isRequired,until:i.a.string.isRequired},M.displayName="TimeRemaining";var O,P=M;function S(e,t,n,r){O||(O="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:O,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=S(l.a,{id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.PromoMessage.1551659687",defaultMessage:"Offer ends in"}),F=S(l.a,{id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.PromoMessage.1551659687",defaultMessage:"Offer ends in"}),U=function(e){var t=e.banners,n=e.profile;if(!Array.isArray(t)||!t.length)return null;var r=k(t,1)[0],o=n===d.j,i=u()(f.a.promoMessage,$({},f.a.desktop,o)),s=r&&r.message,l=s&&s.includes("[c]");return(s=s&&s.replace("[c]","").trim())?S("div",{className:i},void 0,S(P,{until:r.endDate},void 0,function(e){if(e&&"00:00:00"===e)return null;var t=u()(f.a.message,$({},f.a.messageOnly,!e||!l));return S("div",{className:f.a.wrapper},void 0,o&&e&&l&&S("div",{className:f.a.timeRemaining},void 0,S(p.b,{block:!0,type:"caption",className:f.a.ends},void 0,j),S(p.b,{block:!0,type:"display5"},void 0,e)),S(p.b,{type:o?"display4":"body2",className:t},void 0,S("span",{dangerouslySetInnerHTML:{__html:s}}),!o&&e&&l&&S(a.a.Fragment,{},void 0," ",S(p.b,{type:"body2",className:f.a.ends},void 0,F),S(p.b,{type:"body2"},void 0,S("strong",{},void 0,e)))))})):null};U.isDesignSystem=!0,U.propTypes={banners:i.a.arrayOf(i.a.shape({message:i.a.string})),profile:i.a.oneOf([d.j,d.w])},U.defaultProps={banners:[],profile:d.j};t.default=U},731:function(e,t,n){var r=n(834),a=n(803),o=36e5,i=6e4,s=2,u=/[T ]/,l=/:/,c=/^(\d{2})$/,f=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],p=/^(\d{4})/,d=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],m=/^-(\d{2})$/,y=/^-?(\d{3})$/,v=/^-?(\d{2})-?(\d{2})$/,g=/^-?W(\d{2})$/,b=/^-?W(\d{2})-?(\d{1})$/,h=/^(\d{2}([.,]\d*)?)$/,w=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,D=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,_=/([Z+-].*)$/,x=/^(Z)$/,T=/^([+-])(\d{2})$/,I=/^([+-])(\d{2}):?(\d{2})$/;function M(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}e.exports=function(e,t){if(a(e))return new Date(e.getTime());if("string"!==typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?s:Number(n);var O=function(e){var t,n={},r=e.split(u);if(l.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]),t){var a=_.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e),P=function(e,t){var n,r=f[t],a=d[t];if(n=p.exec(e)||a.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=c.exec(e)||r.exec(e)){var i=n[1];return{year:100*parseInt(i,10),restDateString:e.slice(i.length)}}return{year:null}}(O.date,n),S=P.year,$=function(e,t){if(null===t)return null;var n,r,a,o;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=m.exec(e))return r=new Date(0),a=parseInt(n[1],10)-1,r.setUTCFullYear(t,a),r;if(n=y.exec(e)){r=new Date(0);var i=parseInt(n[1],10);return r.setUTCFullYear(t,0,i),r}if(n=v.exec(e)){r=new Date(0),a=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(t,a,s),r}if(n=g.exec(e))return o=parseInt(n[1],10)-1,M(t,o);if(n=b.exec(e)){o=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return M(t,o,u)}return null}(P.restDateString,S);if($){var k,j=$.getTime(),F=0;if(O.time&&(F=function(e){var t,n,r;if(t=h.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*o;if(t=w.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*o+r*i;if(t=D.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return n%24*o+r*i+1e3*a}return null}(O.time)),O.timezone)k=function(e){var t,n;return(t=x.exec(e))?0:(t=T.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=I.exec(e))?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0}(O.timezone)*i;else{var U=j+F,C=new Date(U);k=r(C);var R=new Date(U);R.setDate(C.getDate()+1);var N=r(R)-r(C);N>0&&(k+=N)}return new Date(j+F+k)}return new Date(e)}},803:function(e,t){e.exports=function(e){return e instanceof Date}},834:function(e,t){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}}}]);
//# sourceMappingURL=design-system-header-promo-message-b6083ca76c7ba5d7e881.js.map